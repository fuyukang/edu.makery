
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>JavaFX 2 Tutorial Part VI - Statistics Chart - edu.makery.ch</title>
  <meta name="author" content="Marco Jakob">

  
  <meta name="description" content="Topics in Part VI Creating a Statistics Chart to display birthday distribution. Other Tutorial Parts Part I - Scene Builder
Part II - Model and &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://edu.makery.ch/blog/2012/12/04/javafx-tutorial-addressapp-6/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="http://feeds.feedburner.com/edu-makery" rel="alternate" title="edu.makery.ch" type="application/atom+xml">
  <!-- Fonts from Google"s Web font directory at http://google.com/webfonts -->
  <link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
  <link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">




  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-34917397-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">edu.makery.ch</a></h1>
  
    <h2>How to Make Things.</h2>
  
</hgroup>

</header>
  <nav role="navigation">
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:edu.makery.ch" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Home</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/projects">Projects</a></li>
  <li><a href="/about">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">JavaFX 2 Tutorial Part VI - Statistics Chart</h1>
    
    
      <p class="meta">
        








  



  
<time datetime="2012-12-04T12:00:00+01:00" pubdate data-updated="true">Dec 4<span>th</span>, 2012</time>
        
      </p>
    
  </header>


<div class="entry-content"><p><img src="/images/javafx-addressapp/part-6/addressapp01.png"></p>

<h2>Topics in Part VI</h2>

<ul>
<li>Creating a <strong>Statistics Chart</strong> to display birthday distribution.</li>
</ul>


<!-- more -->


<h3>Other Tutorial Parts</h3>

<ul>
<li><a href="/blog/2012/11/16/javafx-tutorial-addressapp-1">Part I - Scene Builder</a></li>
<li><a href="/blog/2012/11/17/javafx-tutorial-addressapp-2">Part II - Model and TableView</a></li>
<li><a href="/blog/2012/11/20/javafx-tutorial-addressapp-3">Part III - Interacting with the User</a></li>
<li><a href="/blog/2012/11/26/javafx-tutorial-addressapp-4">Part IV - CSS Styling</a></li>
<li><a href="/blog/2012/11/27/javafx-tutorial-addressapp-5">Part V - Storing Data as XML</a></li>
<li><strong>Part VI - Statistics Chart</strong></li>
<li><a href="/blog/2012/12/18/javafx-tutorial-addressapp-7">Part VII - Deployment with e(fx)clipse</a></li>
</ul>


<h2>Birthday Statistics</h2>

<p>All our people in the AddressApp have a birthday. Wouldn&#8217;t it be nice to have some statistics about when our people celebrate their birthday.</p>

<p>We&#8217;ll use a <strong>Bar Chart</strong> containing a bar for each month. Each bar shows how many people have their birthday in that particular month.</p>

<h2>The Statistics FXML View</h2>

<ol>
<li>We start by creating a <code>BirthdayStatistics.fxml</code> file inside our <code>ch.makery.address.view</code> package (<em>Right-click on package | New | other&#8230; | New FXML Document</em>).</li>
<li>Open the <code>BirthdayStatistics.fxml</code> file in Scene Builder.</li>
<li>Select the root <code>AnchorPane</code> and set the <em>Pref Width</em> to 620 and the <em>Pref Height</em> to 450.</li>
<li>Add a <code>BarChart</code> to the <code>AnchorPane</code>.</li>
<li>Right-click on the <code>BarChart</code> and select <em>Fit to Parent</em>.</li>
<li>Save the fxml file, go to Eclipse and refresh the project.</li>
</ol>


<p>Before we&#8217;ll come back to Scene Builder, we&#8217;ll first create the controller and wire everything up in our MainApp.</p>

<h2>The Statistics Controller</h2>

<p>In the controller package <code>ch.makery.address</code> create a Java class called <code>BirthdayStatisticsController.java</code>.</p>

<p>Let&#8217;s first take a look at the entire controller class before I start explaining:</p>

<figure class='code'><figcaption><span> (BirthdayStatisticsController.java)</span> <a href='/downloads/javafx-addressapp/part-6/BirthdayStatisticsController.java'>download</a></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kn">package</span> <span class="n">ch</span><span class="o">.</span><span class="na">makery</span><span class="o">.</span><span class="na">address</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.text.DateFormatSymbols</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.util.Arrays</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.util.Calendar</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.util.Locale</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="kn">import</span> <span class="nn">javafx.collections.FXCollections</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">javafx.collections.ObservableList</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">javafx.fxml.FXML</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">javafx.scene.chart.BarChart</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">javafx.scene.chart.CategoryAxis</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">javafx.scene.chart.XYChart</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">ch.makery.address.model.Person</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/**</span>
</span><span class='line'><span class="cm"> * The controller for the birthday statistics view.</span>
</span><span class='line'><span class="cm"> * </span>
</span><span class='line'><span class="cm"> * @author Marco Jakob</span>
</span><span class='line'><span class="cm"> */</span>
</span><span class='line'><span class="kd">public</span> <span class="kd">class</span> <span class="nc">BirthdayStatisticsController</span> <span class="o">{</span>
</span><span class='line'>  
</span><span class='line'>  <span class="nd">@FXML</span>
</span><span class='line'>  <span class="kd">private</span> <span class="n">BarChart</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Integer</span><span class="o">&gt;</span> <span class="n">barChart</span><span class="o">;</span>
</span><span class='line'>  
</span><span class='line'>  <span class="nd">@FXML</span>
</span><span class='line'>  <span class="kd">private</span> <span class="n">CategoryAxis</span> <span class="n">xAxis</span><span class="o">;</span>
</span><span class='line'>  
</span><span class='line'>  <span class="kd">private</span> <span class="n">ObservableList</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">monthNames</span> <span class="o">=</span> <span class="n">FXCollections</span><span class="o">.</span><span class="na">observableArrayList</span><span class="o">();</span>
</span><span class='line'>  
</span><span class='line'>  <span class="cm">/**</span>
</span><span class='line'><span class="cm">  * Initializes the controller class. This method is automatically called</span>
</span><span class='line'><span class="cm">  * after the fxml file has been loaded.</span>
</span><span class='line'><span class="cm">  */</span>
</span><span class='line'>  <span class="nd">@FXML</span>
</span><span class='line'>  <span class="kd">private</span> <span class="kt">void</span> <span class="nf">initialize</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>      <span class="c1">// Get an array with the English month names.</span>
</span><span class='line'>      <span class="n">String</span><span class="o">[]</span> <span class="n">months</span> <span class="o">=</span> <span class="n">DateFormatSymbols</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">Locale</span><span class="o">.</span><span class="na">ENGLISH</span><span class="o">).</span><span class="na">getMonths</span><span class="o">();</span>
</span><span class='line'>      <span class="c1">// Convert it to a list and add it to our ObservableList of months.</span>
</span><span class='line'>      <span class="n">monthNames</span><span class="o">.</span><span class="na">addAll</span><span class="o">(</span><span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="n">months</span><span class="o">));</span>
</span><span class='line'>      
</span><span class='line'>      <span class="n">xAxis</span><span class="o">.</span><span class="na">setCategories</span><span class="o">(</span><span class="n">monthNames</span><span class="o">);</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'>  
</span><span class='line'>  <span class="cm">/**</span>
</span><span class='line'><span class="cm">  * Sets the persons to show the statistics for.</span>
</span><span class='line'><span class="cm">  * </span>
</span><span class='line'><span class="cm">  * @param persons</span>
</span><span class='line'><span class="cm">  */</span>
</span><span class='line'>  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setPersonData</span><span class="o">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;</span> <span class="n">persons</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>      <span class="kt">int</span><span class="o">[]</span> <span class="n">monthCounter</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="mi">12</span><span class="o">];</span>
</span><span class='line'>      <span class="k">for</span> <span class="o">(</span><span class="n">Person</span> <span class="n">p</span> <span class="o">:</span> <span class="n">persons</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>          <span class="kt">int</span> <span class="n">month</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="na">getBirthday</span><span class="o">().</span><span class="na">get</span><span class="o">(</span><span class="n">Calendar</span><span class="o">.</span><span class="na">MONTH</span><span class="o">);</span>
</span><span class='line'>          <span class="n">monthCounter</span><span class="o">[</span><span class="n">month</span><span class="o">]++;</span>
</span><span class='line'>      <span class="o">}</span>
</span><span class='line'>      
</span><span class='line'>      <span class="n">XYChart</span><span class="o">.</span><span class="na">Series</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Integer</span><span class="o">&gt;</span> <span class="n">series</span> <span class="o">=</span> <span class="n">createMonthDataSeries</span><span class="o">(</span><span class="n">monthCounter</span><span class="o">);</span>
</span><span class='line'>        <span class="n">barChart</span><span class="o">.</span><span class="na">getData</span><span class="o">().</span><span class="na">add</span><span class="o">(</span><span class="n">series</span><span class="o">);</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'>  
</span><span class='line'>  <span class="cm">/**</span>
</span><span class='line'><span class="cm">  * Creates a XYChart.Data object for each month. All month data is then</span>
</span><span class='line'><span class="cm">  * returned as a series.</span>
</span><span class='line'><span class="cm">  * </span>
</span><span class='line'><span class="cm">  * @param monthCounter Array with a number for each month. Must be of length 12!</span>
</span><span class='line'><span class="cm">  * @return</span>
</span><span class='line'><span class="cm">  */</span>
</span><span class='line'>  <span class="kd">private</span> <span class="n">XYChart</span><span class="o">.</span><span class="na">Series</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Integer</span><span class="o">&gt;</span> <span class="n">createMonthDataSeries</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">monthCounter</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>      <span class="n">XYChart</span><span class="o">.</span><span class="na">Series</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">series</span> <span class="o">=</span> <span class="k">new</span> <span class="n">XYChart</span><span class="o">.</span><span class="na">Series</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span><span class="n">Integer</span><span class="o">&gt;();</span>
</span><span class='line'>      
</span><span class='line'>      <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">monthCounter</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
</span><span class='line'>          <span class="n">XYChart</span><span class="o">.</span><span class="na">Data</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Integer</span><span class="o">&gt;</span> <span class="n">monthData</span> <span class="o">=</span> <span class="k">new</span> <span class="n">XYChart</span><span class="o">.</span><span class="na">Data</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span><span class="n">Integer</span><span class="o">&gt;(</span><span class="n">monthNames</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">),</span> <span class="n">monthCounter</span><span class="o">[</span><span class="n">i</span><span class="o">]);</span>
</span><span class='line'>          <span class="n">series</span><span class="o">.</span><span class="na">getData</span><span class="o">().</span><span class="na">add</span><span class="o">(</span><span class="n">monthData</span><span class="o">);</span>
</span><span class='line'>      <span class="o">}</span>
</span><span class='line'>      
</span><span class='line'>      <span class="k">return</span> <span class="n">series</span><span class="o">;</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<h3>How the Controller Works</h3>

<ol>
<li><p>The controller will need access to two elements from our FXML file:</p>

<ul>
<li>The <code>barChar</code>: It has the type <code>String</code> and <code>Integer</code>. The <code>String</code> is used for the month on the x-axis and the <code>Integer</code> is used for the number of people in a specific month.
We&#8217;ll use the reference to the <code>BarChart</code> to set our data.</li>
<li>The <code>xAxis</code>: We&#8217;ll use this to add the month Strings.</li>
</ul>
</li>
<li><p>The <code>initialize()</code> method fills the x-axis with a list of all the months.</p></li>
<li><p>The <code>setPersonData(...)</code> method will be accessed by the <code>MainApp</code> class to set the person data. It loops through all persons and counts the birthdays per month.</p></li>
<li><p>The <code>createMonthDataSeries(...)</code> method takes the array with a number for each month and creates the chart data. For each month a new <code>XYChart.Data</code> object is created with the month name and the number of people having their birthday in this month. Each <code>XYChart.Data</code> object will represent one bar in the chart.</p></li>
</ol>


<h2>Connecting View and Controller</h2>

<ol>
<li>Open <code>BirthdayStatistics.fxml</code> in Scene Builder.</li>
<li>Select the root <code>AncherPane</code> and add the <code>BirthdayStatisticsController</code> as controller (in Code View).</li>
<li>Select the <code>BarChart</code> and choose <code>barChart</code> as fx:id Property.</li>
<li>Select the <code>CategoryAxis</code> and choose <code>xAxis</code> as fx:id Property.</li>
<li>You may add a title to the chart, remove the legend, etc. for further styling the chart.</li>
</ol>


<h2>Connecting the View/Controller with MainApp</h2>

<p>We&#8217;ll use the same mechanism for our <em>birthday statistics</em> that we used for the <em>edit person dialog</em>: A simple popup dialog containing.</p>

<p>Add the following method to your <code>MainApp</code> class:</p>

<figure class='code'><figcaption><span>MainApp.java</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="cm">/**</span>
</span><span class='line'><span class="cm"> * Opens a dialog to show birthday statistics. </span>
</span><span class='line'><span class="cm"> */</span>
</span><span class='line'><span class="kd">public</span> <span class="kt">void</span> <span class="nf">showBirthdayStatistics</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>  <span class="k">try</span> <span class="o">{</span>
</span><span class='line'>    <span class="c1">// Load the fxml file and create a new stage for the popup</span>
</span><span class='line'>    <span class="n">FXMLLoader</span> <span class="n">loader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">FXMLLoader</span><span class="o">(</span><span class="n">MainApp</span><span class="o">.</span><span class="na">class</span><span class="o">.</span><span class="na">getResource</span><span class="o">(</span><span class="s">&quot;view/BirthdayStatistics.fxml&quot;</span><span class="o">));</span>
</span><span class='line'>    <span class="n">AnchorPane</span> <span class="n">page</span> <span class="o">=</span> <span class="o">(</span><span class="n">AnchorPane</span><span class="o">)</span> <span class="n">loader</span><span class="o">.</span><span class="na">load</span><span class="o">();</span>
</span><span class='line'>    <span class="n">Stage</span> <span class="n">dialogStage</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Stage</span><span class="o">();</span>
</span><span class='line'>    <span class="n">dialogStage</span><span class="o">.</span><span class="na">setTitle</span><span class="o">(</span><span class="s">&quot;Birthday Statistics&quot;</span><span class="o">);</span>
</span><span class='line'>    <span class="n">dialogStage</span><span class="o">.</span><span class="na">initModality</span><span class="o">(</span><span class="n">Modality</span><span class="o">.</span><span class="na">WINDOW_MODAL</span><span class="o">);</span>
</span><span class='line'>    <span class="n">dialogStage</span><span class="o">.</span><span class="na">initOwner</span><span class="o">(</span><span class="n">primaryStage</span><span class="o">);</span>
</span><span class='line'>    <span class="n">Scene</span> <span class="n">scene</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Scene</span><span class="o">(</span><span class="n">page</span><span class="o">);</span>
</span><span class='line'>    <span class="n">dialogStage</span><span class="o">.</span><span class="na">setScene</span><span class="o">(</span><span class="n">scene</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">// Set the persons into the controller</span>
</span><span class='line'>    <span class="n">BirthdayStatisticsController</span> <span class="n">controller</span> <span class="o">=</span> <span class="n">loader</span><span class="o">.</span><span class="na">getController</span><span class="o">();</span>
</span><span class='line'>    <span class="n">controller</span><span class="o">.</span><span class="na">setPersonData</span><span class="o">(</span><span class="n">personData</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">dialogStage</span><span class="o">.</span><span class="na">show</span><span class="o">();</span>
</span><span class='line'>
</span><span class='line'>  <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">IOException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>    <span class="c1">// Exception gets thrown if the fxml file could not be loaded</span>
</span><span class='line'>    <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Everything is set up, but we don&#8217;t have anyone who actually calls the new <code>showBirthdayStatistics()</code> method. Luckily we already have a menu in <code>RootLayout.fxml</code> that can be used for this purpose.</p>

<h3>Show Birthday Statistics Menu</h3>

<p>In your <code>RootLayoutController</code> add the following method which will handle user clicks on the <em>show birthday statistics</em> menu item:</p>

<figure class='code'><figcaption><span>RootLayoutController.java  </span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="cm">/**</span>
</span><span class='line'><span class="cm"> * Opens the birthday statistics.</span>
</span><span class='line'><span class="cm"> */</span>
</span><span class='line'><span class="nd">@FXML</span>
</span><span class='line'><span class="kd">private</span> <span class="kt">void</span> <span class="nf">handleShowBirthdayStatistics</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>  <span class="n">mainApp</span><span class="o">.</span><span class="na">showBirthdayStatistics</span><span class="o">();</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Now open the <code>RootLayout.fxml</code> file with Scene Builder.</p>

<p>Select the <em>Show Statistics</em> <code>MenuItem</code> and choose <code>#handleShowBirthdayStatistics</code> for <code>On Action</code> (in Code view)</p>

<p><strong>Remember:</strong> You might need to remove the controller from the root, hit enter and set it again if the <code>handle...</code> method does not appear. Because of a <a href="http://javafx-jira.kenai.com/browse/DTL-5402">bug</a> in Scene Builder (<strong>fixed in Scene Builder 1.1 beta 17 and above!</strong>).</p>

<p><img src="/images/javafx-addressapp/part-6/addressapp02.png"></p>

<p>Go to Eclipse, refresh the project and <strong>test it</strong>.</p>

<h2>More Information on JavaFX Charts</h2>

<p>A good place for more information is the official Oracle tutorial on <a href="http://docs.oracle.com/javafx/2/charts/jfxpub-charts.htm">Using JavaFX Charts</a>.</p>

<hr />

<h3>What&#8217;s Next?</h3>

<p>In the last tutorial <a href="/blog/2012/12/18/javafx-tutorial-addressapp-7">Part VII</a> we will finally deploy our application (i.e. package and deliver the app to our users).</p>

<h3>Download Source</h3>

<p><a href="/downloads/javafx-addressapp/part-6/addressapp-part-6.zip">Source of Tutorial Part VI</a> as Eclipse Project.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Marco Jakob</span></span>

      








  



  
<time datetime="2013-02-08T00:00:00+01:00" class="updated">Updated Feb 8<span>th</span>, 2013</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/english/'>English</a>, <a class='category' href='/blog/categories/javafx/'>JavaFX</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://edu.makery.ch/blog/2012/12/04/javafx-tutorial-addressapp-6/" data-via="marco_jakob" data-counturl="http://edu.makery.ch/blog/2012/12/04/javafx-tutorial-addressapp-6/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2012/11/27/javafx-tutorial-addressapp-5/" title="Previous Post: JavaFX 2 Tutorial Part V - Storing Data as XML">&laquo; JavaFX 2 Tutorial Part V - Storing Data as XML</a>
      
      
        <a class="basic-alignment right" href="/blog/2012/12/13/persisting-data-in-java/" title="Next Post: Persisting Data in Java">Persisting Data in Java &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Projects</h1>
  <ul>
    <li>
      <a href="/projects/learn-dart">Learn Dart</a>
    </li>    
    <li>
      <a href="/projects/learn-java">Learn Java</a>
    </li>    
    <li>
      <a href="/projects/learn-javafx">Learn JavaFX</a>
    </li>    
    <li>
      <a href="/projects/dart-html5-drag-and-drop">Dart HTML5 Drag and Drop</a>
    </li>
    <li>
      <a href="/projects/dart-event-bus">Dart Event Bus</a>
    </li>
  </ul>
</section>
<section>
  <h1>Categories</h1>
  <ul id="categories">
    <li class='category'><a href='/'>All (25)</a><a title='subscribe via RSS' href='http://feeds.feedburner.com/edu-makery' class='feed-rss_16 category-icon'></a></li>
<li class='category'><a href='/blog/categories/dart/'>Dart (3)</a><a title='subscribe via RSS: Dart' href='http://feeds.feedburner.com/edu-makery-dart' class='feed-rss_16 category-icon'></a></li>
<li class='category'><a href='/blog/categories/deutsch/'>Deutsch (2)</a><a title='subscribe via RSS: Deutsch' href='http://feeds.feedburner.com/edu-makery-deutsch' class='feed-rss_16 category-icon'></a></li>
<li class='category'><a href='/blog/categories/english/'>English (23)</a><a title='subscribe via RSS: English' href='http://feeds.feedburner.com/edu-makery-english' class='feed-rss_16 category-icon'></a></li>
<li class='category'><a href='/blog/categories/java/'>Java (6)</a><a title='subscribe via RSS: Java' href='http://feeds.feedburner.com/edu-makery-java' class='feed-rss_16 category-icon'></a></li>
<li class='category'><a href='/blog/categories/javafx/'>JavaFX (16)</a><a title='subscribe via RSS: JavaFX' href='http://feeds.feedburner.com/edu-makery-javafx' class='feed-rss_16 category-icon'></a></li>

  </ul>
</section>
  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Marco Jakob - 
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span> - 
  <span class="credit">Icons by <a href="http://glyphicons.com">glyphicons</a> and <a href="http://www.icondrawer.com">icondrawer</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'edumakery';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://edu.makery.ch/blog/2012/12/04/javafx-tutorial-addressapp-6/';
        var disqus_url = 'http://edu.makery.ch/blog/2012/12/04/javafx-tutorial-addressapp-6/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>





  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
